<!DOCTYPE html>


<html lang="en">

<head>
    <!--Google Analytics-->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-X7BGW69WYV"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-X7BGW69WYV');
    </script>

    <!--Required Meta Tags-->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Tab Title and Logo-->
    <title>RUMblebots Applications</title>
    <link rel="icon" href="/src/img/rumblebots.png">

    <!--Font Awesome-->
    <script src="https://kit.fontawesome.com/716acecbd2.js" crossorigin="anonymous"></script>


</head>

<body>
    <!--Navigation Bar-->
    <nav class="navbar navbar-expand-md bg-white" id="navbar">
        <div class="container-fluid d-flex flex-row">
            <div class="flex-column">
                <a class="navbar-brand d-none d-md-block" href="index.html">
                    <img id="logo" src="/src/img/rumblebots.png" height="70" alt="navbar-logo">
                </a>
            </div>
            <div class="flex-column flex-fill">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="meet-the-team.html">Meet the Team</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="apply-now.html">Apply Now!</a>
                    </li>
                </ul>
            </div>
            <div class="flex-column">
                <a class="navbar-brand d-none d-md-block" href="https://www.uprm.edu/portada/">
                    <img src="/src/img/rum_upr_web.jpg" class="uprm-web-logo">
                </a>
            </div>
        </div>
    </nav>
    <div class="container" style="margin-top: 5%; width: 50%;">
        <form id="application">
            <div class="mb-3">
                <label for="nameInput" class="form-label" aria-required="true">Full Name</label>
                <input type="text" class="form-control" id="nameInput" aria-describedby="nameHelp">
            </div>
            <div class="mb-3">
                <label for="emailInput" class="form-label" aria-required="true">Email</label>
                <input type="email" class="form-control" id="emailInput" aria-describedby="emailHelp">
            </div>
            <div class="mb-3">
                <label for="bioInput" class="form-label" aria-required="true">Bio</label>
                <textarea class="form-control" id="bioInput" aria-label="Bio"></textarea>
            </div>
            <button type="submit" class="btn btn-success">Submit Application</button>
        </form>
    </div>
    <script type="text/javascript">
        import { initializeApp } from "firebase/app"
        import { getDatabase, ref, set } from "firebase/database";
        import { getAnalytics } from "firebase/analytics"
        //Web APP firebase config
        const firebaseConfig = {
            apiKey: "AIzaSyDHjvrenveN0OBqC167mRxsmxWN7D4M6Wc",
            authDomain: "rumblebots-website.firebaseapp.com",
            projectId: "rumblebots-website",
            storageBucket: "rumblebots-website.appspot.com",
            messagingSenderId: "445812151859",
            appId: "1:445812151859:web:b409a58e9f7eb869c57546",
            measurementId: "G-D8XD7NLTM7",
            databaseURL: "https://rumblebots-website-default-rtdb.firebaseio.com/"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        


    
        var application = document.getElementById("application")
        application.addEventListener("submit", function (event) {const writeUserData = (name, email, bio) => {
            set(ref(db, 'applications/' + email), {
                username: name,
                email: email,
                bio: bio
            });    }
            event.preventDefault();
            var name = document.getElementById("nameInput").value
            console.log(name);
            var email = document.getElementById("emailInput").value
            console.log(email)
            var bio = document.getElementById("bioInput").value
            console.log(bio)
            writeUserData(name, email, bio);
        })
    </script>
</body>


</html>